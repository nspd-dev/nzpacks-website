<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scenepacks Hub</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- External CSS File -->
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body class="min-h-screen font-sans bg-black text-gray-100">
    <!-- Header/Navigation -->
    <header class="bg-black p-4 sticky top-0 z-20">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-3xl font-extrabold text-white mb-4 md:mb-0">NZ</h1>
            <nav class="flex flex-wrap justify-center gap-6">
                <button id="nav-home" class="header-nav-button active">
                    <i class="fas fa-home mr-2"></i>Home
                </button>
                <button id="nav-scenepacks" class="header-nav-button">
                    <i class="fas fa-box-open mr-2"></i>Scenepacks
                </button>
                <button id="nav-games" class="header-nav-button">
                    <i class="fas fa-gamepad mr-2"></i>Games
                </button>
                <button id="nav-movies" class="header-nav-button">
                    <i class="fas fa-film mr-2"></i>Movies
                </button>
                <button id="nav-tvshows" class="header-nav-button">
                    <i class="fas fa-tv mr-2"></i>TV Show
                </button>
                <button id="nav-anime" class="header-nav-button">
                    <i class="fas fa-cat mr-2"></i>Anime
                </button>
                <button id="nav-how-to-download" class="header-nav-button">
                    <i class="fas fa-download mr-2"></i>How to Download
                </button>
                <button id="nav-report-dead-link" class="header-nav-button">
                    <i class="fas fa-bug mr-2"></i>Report Dead Link
                </button>
                <button id="nav-other" class="header-nav-button">
                    <i class="fas fa-ellipsis-h mr-2"></i>Other
                </button>
                <button id="nav-dashboard" class="header-nav-button">
                    <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                </button>
            </nav>
        </div>
    </header>

    <main class="relative flex min-h-[calc(100vh-80px)]"> <!-- Adjust height based on header -->
        <!-- Featured Section (Left Sidebar) -->
        <aside id="featured-sidebar" class="w-64 p-6 bg-black z-10 sticky top-20 hidden md:block">
            <h3 class="text-xl font-bold mb-4 text-white">FEATURED</h3>
            <div id="featured-scenepacks" class="space-y-4">
                <!-- Featured scenepack items will be injected here -->
                <div class="featured-card">
                    <img src="https://placehold.co/60x80/1a1a1a/FFFFFF?text=Image+1" alt="Featured 1" class="rounded-md">
                </div>
                <div class="featured-card">
                    <img src="https://placehold.co/60x80/1a1a1a/FFFFFF?text=Image+2" alt="Featured 2" class="rounded-md">
                </div>
                <div class="featured-card">
                    <img src="https://placehold.co/60x80/1a1a1a/FFFFFF?text=Image+3" alt="Featured 3" class="rounded-md">
                </div>
                <div class="featured-card">
                    <img src="https://placehold.co/60x80/1a1a1a/FFFFFF?text=Image+4" alt="Featured 4" class="rounded-md">
                </div>
                <div class="featured-card">
                    <img src="https://placehold.co/60x80/1a1a1a/FFFFFF?text=Image+5" alt="Featured 5" class="rounded-md">
                </div>
            </div>
            <button class="btn-secondary mt-6 w-full">SHOW MORE</button>
        </aside>

        <!-- Main Content Area -->
        <div class="flex-1 p-8 flex flex-col items-center justify-center relative z-0">
            <section id="home-section" class="page-section w-full max-w-4xl text-center">
                <h2 class="text-4xl sm:text-5xl font-bold mb-8 text-white">Search For Scenepacks</h2>
                <div class="relative w-full max-w-md mx-auto">
                    <input type="text" id="homeSearchInput" placeholder="Search..." class="input-field-lg pl-12 pr-4 py-3 rounded-full">
                    <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl"></i>
                </div>
                <div id="homeScenepackResults" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6 mt-8">
                    <!-- Scenepack results will be injected here -->
                </div>
                <p id="noHomeResultsMessage" class="hidden text-center text-gray-400 text-xl p-8">No scenepacks found matching your criteria.</p>
            </section>

            <section id="scenepacks-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-white">All Scenepacks</h2>
                <div class="flex flex-col sm:flex-row gap-4 mb-8">
                    <input type="text" id="scenepacksSearchInput" placeholder="Search all scenepacks..." class="input-field flex-grow">
                    <select id="scenepacksGenreFilter" class="select-field">
                        <option value="">All Genres</option>
                    </select>
                </div>
                <div id="scenepacksScenepackResults" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
                </div>
                <p id="noScenepacksResultsMessage" class="hidden text-center text-gray-400 text-xl p-8">No scenepacks found matching your criteria.</p>
            </section>

            <section id="movies-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-center text-white">Movies</h2>
                <div class="flex flex-col sm:flex-row gap-4 mb-8">
                    <input type="text" id="movieSearchInput" placeholder="Search movies..." class="input-field flex-grow">
                    <select id="movieGenreFilter" class="select-field">
                        <option value="">All Genres</option>
                    </select>
                </div>
                <div id="movieScenepackResults" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
                </div>
                <p id="noMovieResultsMessage" class="hidden text-center text-gray-400 text-xl p-8">No movies found matching your criteria.</p>
            </section>

            <section id="games-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-center text-white">Games</h2>
                <div class="flex flex-col sm:flex-row gap-4 mb-8">
                    <input type="text" id="gameSearchInput" placeholder="Search games..." class="input-field flex-grow">
                    <select id="gameGenreFilter" class="select-field">
                        <option value="">All Genres</option>
                    </select>
                </div>
                <div id="gameScenepackResults" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
                </div>
                <p id="noGameResultsMessage" class="hidden text-center text-gray-400 text-xl p-8">No games found matching your criteria.</p>
            </section>

            <section id="tvshows-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-center text-white">TV Shows</h2>
                <div class="flex flex-col sm:flex-row gap-4 mb-8">
                    <input type="text" id="tvshowSearchInput" placeholder="Search TV Shows..." class="input-field flex-grow">
                    <select id="tvshowGenreFilter" class="select-field">
                        <option value="">All Genres</option>
                    </select>
                </div>
                <div id="tvshowScenepackResults" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
                </div>
                <p id="noTvShowResultsMessage" class="hidden text-center text-gray-400 text-xl p-8">No TV Shows found matching your criteria.</p>
            </section>

            <section id="anime-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-center text-white">Anime</h2>
                <div class="flex flex-col sm:flex-row gap-4 mb-8">
                    <input type="text" id="animeSearchInput" placeholder="Search Anime..." class="input-field flex-grow">
                    <select id="animeGenreFilter" class="select-field">
                        <option value="">All Genres</option>
                    </select>
                </div>
                <div id="animeScenepackResults" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
                </div>
                <p id="noAnimeResultsMessage" class="hidden text-center text-gray-400 text-xl p-8">No Anime found matching your criteria.</p>
            </section>

            <!-- Placeholder sections for new navigation items -->
            <section id="how-to-download-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-white">How to Download</h2>
                <p class="text-lg text-gray-300">Information on how to download scenepacks will go here.</p>
            </section>

            <section id="report-dead-link-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-white">Report Dead Link</h2>
                <p class="text-lg text-gray-300">A form to report dead links will be here.</p>
            </section>

            <section id="other-section" class="page-section hidden w-full max-w-4xl text-center">
                <h2 class="text-4xl font-bold mb-6 text-white">Other Information</h2>
                <p class="text-lg text-gray-300">Any other relevant information will be displayed here.</p>
            </section>

            <section id="dashboard-section" class="page-section hidden w-full max-w-4xl text-center">
                <div class="container mx-auto p-6 bg-gray-900 text-white rounded-lg shadow-xl">
                    <h2 class="text-3xl font-bold mb-6 text-center text-white">Creator Dashboard</h2>
                    <p id="dashboard-user-id" class="text-center text-gray-300 mb-4"></p>
                    <div id="discord-profile" class="flex flex-col items-center mb-6 hidden">
                        <img id="discord-pfp" class="w-24 h-24 rounded-full mb-2 border-2 border-gray-600" alt="Discord Profile Picture">
                        <p id="discord-username" class="text-lg font-semibold text-white"></p>
                    </div>

                    <div id="dashboard-message" class="hidden message-box"></div>
                    <div id="dashboard-auth-message" class="text-center text-yellow-500 text-xl p-8 hidden">
                        You must be logged in with Discord and have the required role to access the dashboard.
                        <button id="discord-login-btn" class="btn-primary mt-4">Login with Discord</button>
                    </div>

                    <form id="scenepack-form" class="mb-8 p-6 border border-gray-800 rounded-lg bg-gray-900 hidden">
                        <h3 id="form-title" class="text-2xl font-semibold mb-4 text-white">Add New Scenepack</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="scenepack-name" class="block text-sm font-medium text-gray-300 mb-1">Name:</label>
                                <input type="text" id="scenepack-name" name="name" class="input-field" required>
                            </div>
                            <div>
                                <label for="scenepack-type" class="block text-sm font-medium text-gray-300 mb-1">Type:</label>
                                <select id="scenepack-type" name="type" class="input-field" required>
                                    <option value="">Select Type</option>
                                    <option value="game">Game</option>
                                    <option value="movie">Movie</option>
                                    <option value="tvshow">TV Show</option>
                                    <option value="anime">Anime</option>
                                    <option value="trailer">Trailer</option>
                                </select>
                            </div>
                            <div>
                                <label for="scenepack-genre" class="block text-sm font-medium text-gray-300 mb-1">Genre:</label>
                                <input type="text" id="scenepack-genre" name="genre" class="input-field">
                            </div>
                            <div>
                                <label for="scenepack-url" class="block text-sm font-medium text-gray-300 mb-1">URL:</label>
                                <input type="url" id="scenepack-url" name="url" class="input-field" required>
                            </div>
                            <div class="md:col-span-2">
                                <label for="scenepack-imageUrl" class="block text-sm font-medium text-gray-300 mb-1">Image URL (Optional):</label>
                                <input type="url" id="scenepack-imageUrl" name="imageUrl" class="input-field">
                            </div>
                        </div>
                        <div class="flex justify-end space-x-3">
                            <button type="button" id="cancel-edit-btn" class="btn-secondary hidden">Cancel Edit</button>
                            <button type="submit" id="submit-scenepack-btn" class="btn-primary">Add Scenepack</button>
                        </div>
                    </form>

                    <h3 class="text-2xl font-semibold mb-4 text-white hidden" id="dashboard-scenepacks-title">Your Scenepacks</h3>
                    <p id="no-dashboard-scenepacks" class="text-gray-400 text-center hidden">No scenepacks added yet.</p>
                    <div class="overflow-x-auto hidden" id="dashboard-table-container">
                        <table class="min-w-full bg-gray-900 rounded-lg">
                            <thead>
                                <tr class="bg-gray-800 text-left text-sm font-medium text-gray-200 uppercase tracking-wider">
                                    <th class="px-4 py-2 rounded-tl-lg">Name</th>
                                    <th class="px-4 py-2">Type</th>
                                    <th class="px-4 py-2">Genre</th>
                                    <th class="px-4 py-2">URL</th>
                                    <th class="px-4 py-2 rounded-tr-lg text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="dashboard-scenepacks-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>

        <!-- Confirmation Modal for Deletion -->
        <div id="confirm-modal" class="modal-overlay hidden">
            <div class="modal-content">
                <h4 class="text-xl font-bold mb-4 text-white">Confirm Deletion</h4>
                <p id="confirm-modal-message" class="text-gray-300 mb-6">Are you sure you want to delete this item?</p>
                <div class="flex justify-center space-x-4">
                    <button id="cancel-delete-btn" class="btn-secondary">Cancel</button>
                    <button id="confirm-delete-btn" class="btn-delete">Delete</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer with Social Icons -->
    <footer class="bg-black p-4 text-center">
        <div class="container mx-auto flex justify-end items-center space-x-4">
            <a href="https://discord.com/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-200">
                <i class="fab fa-discord text-2xl"></i>
            </a>
            <a href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-200">
                <i class="fab fa-instagram text-2xl"></i>
            </a>
            <a href="https://www.youtube.com/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-200">
                <i class="fab fa-youtube text-2xl"></i>
            </a>
        </div>
    </footer>

    <!-- External JavaScript Files -->
    <script type="module" src="./js/utils.js"></script>
    <script type="module" src="./js/firebase-init.js"></script>
    <script type="module" src="./js/ui-renderer.js"></script>
    <script type="module" src="./js/data-operations.js"></script>
    <script type="module" src="./js/app.js"></script>
</body>
</html>
